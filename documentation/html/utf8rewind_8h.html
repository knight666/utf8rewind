<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>utf8rewind: include/utf8rewind/utf8rewind.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">utf8rewind
   &#160;<span id="projectnumber">1.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="utf8rewind_8h.html"><span>Library&#160;interface</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('utf8rewind_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">utf8rewind.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions for working with UTF-8 encoded text.  
<a href="#details">More...</a></p>

<p><a href="utf8rewind_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaabf4ed55c67112f79abe7275ee2ecc9b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__errors.html#gaabf4ed55c67112f79abe7275ee2ecc9b">UTF8_ERR_INVALID_DATA</a>&#160;&#160;&#160;(-1)</td></tr>
<tr class="memdesc:gaabf4ed55c67112f79abe7275ee2ecc9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Input data is invalid.  <a href="group__errors.html#gaabf4ed55c67112f79abe7275ee2ecc9b">More...</a><br /></td></tr>
<tr class="separator:gaabf4ed55c67112f79abe7275ee2ecc9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae91fa4856dd1f05861b3924c90bef23c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__errors.html#gae91fa4856dd1f05861b3924c90bef23c">UTF8_ERR_INVALID_FLAG</a>&#160;&#160;&#160;(-2)</td></tr>
<tr class="memdesc:gae91fa4856dd1f05861b3924c90bef23c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Input flag is invalid.  <a href="group__errors.html#gae91fa4856dd1f05861b3924c90bef23c">More...</a><br /></td></tr>
<tr class="separator:gae91fa4856dd1f05861b3924c90bef23c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c80a4201b65d282db98489204f6d5d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__errors.html#ga2c80a4201b65d282db98489204f6d5d8">UTF8_ERR_NOT_ENOUGH_SPACE</a>&#160;&#160;&#160;(-3)</td></tr>
<tr class="memdesc:ga2c80a4201b65d282db98489204f6d5d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer does not have enough space for result.  <a href="group__errors.html#ga2c80a4201b65d282db98489204f6d5d8">More...</a><br /></td></tr>
<tr class="separator:ga2c80a4201b65d282db98489204f6d5d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga212f91820ec425df66d59f187e78412c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__errors.html#ga212f91820ec425df66d59f187e78412c">UTF8_ERR_OVERLAPPING_PARAMETERS</a>&#160;&#160;&#160;(-4)</td></tr>
<tr class="memdesc:ga212f91820ec425df66d59f187e78412c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parameters overlap in memory.  <a href="group__errors.html#ga212f91820ec425df66d59f187e78412c">More...</a><br /></td></tr>
<tr class="separator:ga212f91820ec425df66d59f187e78412c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0661d820dd006e49adfbdf0c7a9dec14"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__errors.html#ga0661d820dd006e49adfbdf0c7a9dec14">UTF8_ERR_UNMATCHED_HIGH_SURROGATE_PAIR</a>&#160;&#160;&#160;(-5)</td></tr>
<tr class="memdesc:ga0661d820dd006e49adfbdf0c7a9dec14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmatched high codepoint in surrogate pair.  <a href="group__errors.html#ga0661d820dd006e49adfbdf0c7a9dec14">More...</a><br /></td></tr>
<tr class="separator:ga0661d820dd006e49adfbdf0c7a9dec14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga892fe61a47f8258d88e292553a459a1c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__errors.html#ga892fe61a47f8258d88e292553a459a1c">UTF8_ERR_UNMATCHED_LOW_SURROGATE_PAIR</a>&#160;&#160;&#160;(-6)</td></tr>
<tr class="memdesc:ga892fe61a47f8258d88e292553a459a1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmatched low codepoint in surrogate pair.  <a href="group__errors.html#ga892fe61a47f8258d88e292553a459a1c">More...</a><br /></td></tr>
<tr class="separator:ga892fe61a47f8258d88e292553a459a1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae047d522ffc5afe11b150b6d5c527b80"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__quickcheck.html#gae047d522ffc5afe11b150b6d5c527b80">UTF8_NORMALIZATION_RESULT_YES</a>&#160;&#160;&#160;(0)</td></tr>
<tr class="memdesc:gae047d522ffc5afe11b150b6d5c527b80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Text is stable and does not have to be normalized.  <a href="group__quickcheck.html#gae047d522ffc5afe11b150b6d5c527b80">More...</a><br /></td></tr>
<tr class="separator:gae047d522ffc5afe11b150b6d5c527b80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ea4d576e89529e074392175230dc352"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__quickcheck.html#ga8ea4d576e89529e074392175230dc352">UTF8_NORMALIZATION_RESULT_MAYBE</a>&#160;&#160;&#160;(1)</td></tr>
<tr class="memdesc:ga8ea4d576e89529e074392175230dc352"><td class="mdescLeft">&#160;</td><td class="mdescRight">Text is unstable, but normalization may be skipped.  <a href="group__quickcheck.html#ga8ea4d576e89529e074392175230dc352">More...</a><br /></td></tr>
<tr class="separator:ga8ea4d576e89529e074392175230dc352"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a59070cc87c6b141ab742986af0f223"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__quickcheck.html#ga9a59070cc87c6b141ab742986af0f223">UTF8_NORMALIZATION_RESULT_NO</a>&#160;&#160;&#160;(2)</td></tr>
<tr class="memdesc:ga9a59070cc87c6b141ab742986af0f223"><td class="mdescLeft">&#160;</td><td class="mdescRight">Text is unstable and must be normalized.  <a href="group__quickcheck.html#ga9a59070cc87c6b141ab742986af0f223">More...</a><br /></td></tr>
<tr class="separator:ga9a59070cc87c6b141ab742986af0f223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6b8ab40213f4505f96b4655fd468848d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flags.html#ga6b8ab40213f4505f96b4655fd468848d">UTF8_NORMALIZE_COMPOSE</a>&#160;&#160;&#160;0x00000001</td></tr>
<tr class="memdesc:ga6b8ab40213f4505f96b4655fd468848d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normalize input to NFC.  <a href="group__flags.html#ga6b8ab40213f4505f96b4655fd468848d">More...</a><br /></td></tr>
<tr class="separator:ga6b8ab40213f4505f96b4655fd468848d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa9cf4bf8f49035a84de94973c9c31181"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flags.html#gaa9cf4bf8f49035a84de94973c9c31181">UTF8_NORMALIZE_DECOMPOSE</a>&#160;&#160;&#160;0x00000002</td></tr>
<tr class="memdesc:gaa9cf4bf8f49035a84de94973c9c31181"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normalize input to NFD.  <a href="group__flags.html#gaa9cf4bf8f49035a84de94973c9c31181">More...</a><br /></td></tr>
<tr class="separator:gaa9cf4bf8f49035a84de94973c9c31181"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga53d4bc1347e2cb233eb212ff7160721f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flags.html#ga53d4bc1347e2cb233eb212ff7160721f">UTF8_NORMALIZE_COMPATIBILITY</a>&#160;&#160;&#160;0x00000004</td></tr>
<tr class="memdesc:ga53d4bc1347e2cb233eb212ff7160721f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes composed normalization to NFKC or decomposed normalization to NFKD.  <a href="group__flags.html#ga53d4bc1347e2cb233eb212ff7160721f">More...</a><br /></td></tr>
<tr class="separator:ga53d4bc1347e2cb233eb212ff7160721f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab1fce55198dd19e0eb149eb3ad34021b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__configuration.html#gab1fce55198dd19e0eb149eb3ad34021b">UTF8_WCHAR_SIZE</a>&#160;&#160;&#160;(2)</td></tr>
<tr class="memdesc:gab1fce55198dd19e0eb149eb3ad34021b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specifies the size of the <code>wchar_t</code> type. On Windows this is 2, on POSIX systems it is 4. If not specified on the command line, the compiler tries to automatically determine the value.  <a href="group__configuration.html#gab1fce55198dd19e0eb149eb3ad34021b">More...</a><br /></td></tr>
<tr class="separator:gab1fce55198dd19e0eb149eb3ad34021b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf41b9c54e9a94ae8ef41a8c17e7c2d51"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__configuration.html#gaf41b9c54e9a94ae8ef41a8c17e7c2d51">UTF8_WCHAR_UTF16</a>&#160;&#160;&#160;(1)</td></tr>
<tr class="memdesc:gaf41b9c54e9a94ae8ef41a8c17e7c2d51"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <code>wchar_t</code> type is treated as UTF-16 (2 bytes).  <a href="group__configuration.html#gaf41b9c54e9a94ae8ef41a8c17e7c2d51">More...</a><br /></td></tr>
<tr class="separator:gaf41b9c54e9a94ae8ef41a8c17e7c2d51"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a1c56c34e8f9e0fbcf4949782f110df8f"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf8rewind_8h.html#a1c56c34e8f9e0fbcf4949782f110df8f">utf16_t</a></td></tr>
<tr class="memdesc:a1c56c34e8f9e0fbcf4949782f110df8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">UTF-16 encoded codepoint.  <a href="#a1c56c34e8f9e0fbcf4949782f110df8f">More...</a><br /></td></tr>
<tr class="separator:a1c56c34e8f9e0fbcf4949782f110df8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae128fe5bd9e57be736e64d3638229988"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf8rewind_8h.html#ae128fe5bd9e57be736e64d3638229988">unicode_t</a></td></tr>
<tr class="memdesc:ae128fe5bd9e57be736e64d3638229988"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unicode codepoint.  <a href="#ae128fe5bd9e57be736e64d3638229988">More...</a><br /></td></tr>
<tr class="separator:ae128fe5bd9e57be736e64d3638229988"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa6a3ebdecf49591cff736ccf054c048e"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf8rewind_8h.html#aa6a3ebdecf49591cff736ccf054c048e">utf8len</a> (const char *text)</td></tr>
<tr class="memdesc:aa6a3ebdecf49591cff736ccf054c048e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the length in codepoints of a UTF-8 encoded string.  <a href="#aa6a3ebdecf49591cff736ccf054c048e">More...</a><br /></td></tr>
<tr class="separator:aa6a3ebdecf49591cff736ccf054c048e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d6a9017be860a575c8dc1ac8c5a9253"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf8rewind_8h.html#a4d6a9017be860a575c8dc1ac8c5a9253">utf16toutf8</a> (const <a class="el" href="utf8rewind_8h.html#a1c56c34e8f9e0fbcf4949782f110df8f">utf16_t</a> *input, size_t inputSize, char *target, size_t targetSize, int32_t *errors)</td></tr>
<tr class="memdesc:a4d6a9017be860a575c8dc1ac8c5a9253"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a UTF-16 encoded string to a UTF-8 encoded string.  <a href="#a4d6a9017be860a575c8dc1ac8c5a9253">More...</a><br /></td></tr>
<tr class="separator:a4d6a9017be860a575c8dc1ac8c5a9253"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b5f39b5fe6fd55a6fc40dd54eaa8a80"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf8rewind_8h.html#a8b5f39b5fe6fd55a6fc40dd54eaa8a80">utf32toutf8</a> (const <a class="el" href="utf8rewind_8h.html#ae128fe5bd9e57be736e64d3638229988">unicode_t</a> *input, size_t inputSize, char *target, size_t targetSize, int32_t *errors)</td></tr>
<tr class="memdesc:a8b5f39b5fe6fd55a6fc40dd54eaa8a80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a UTF-32 encoded string to a UTF-8 encoded string.  <a href="#a8b5f39b5fe6fd55a6fc40dd54eaa8a80">More...</a><br /></td></tr>
<tr class="separator:a8b5f39b5fe6fd55a6fc40dd54eaa8a80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4670f2b7165731bff971559f85690a5"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf8rewind_8h.html#ad4670f2b7165731bff971559f85690a5">widetoutf8</a> (const wchar_t *input, size_t inputSize, char *target, size_t targetSize, int32_t *errors)</td></tr>
<tr class="memdesc:ad4670f2b7165731bff971559f85690a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a wide string to a UTF-8 encoded string.  <a href="#ad4670f2b7165731bff971559f85690a5">More...</a><br /></td></tr>
<tr class="separator:ad4670f2b7165731bff971559f85690a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a384129f817fbbcc7cad6c08b2db354f5"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf8rewind_8h.html#a384129f817fbbcc7cad6c08b2db354f5">utf8toutf16</a> (const char *input, size_t inputSize, <a class="el" href="utf8rewind_8h.html#a1c56c34e8f9e0fbcf4949782f110df8f">utf16_t</a> *target, size_t targetSize, int32_t *errors)</td></tr>
<tr class="memdesc:a384129f817fbbcc7cad6c08b2db354f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a UTF-8 encoded string to a UTF-16 encoded string.  <a href="#a384129f817fbbcc7cad6c08b2db354f5">More...</a><br /></td></tr>
<tr class="separator:a384129f817fbbcc7cad6c08b2db354f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f262c70a9fea7b45647ffea8b571008"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf8rewind_8h.html#a8f262c70a9fea7b45647ffea8b571008">utf8toutf32</a> (const char *input, size_t inputSize, <a class="el" href="utf8rewind_8h.html#ae128fe5bd9e57be736e64d3638229988">unicode_t</a> *target, size_t targetSize, int32_t *errors)</td></tr>
<tr class="memdesc:a8f262c70a9fea7b45647ffea8b571008"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a UTF-8 encoded string to a UTF-32 encoded string.  <a href="#a8f262c70a9fea7b45647ffea8b571008">More...</a><br /></td></tr>
<tr class="separator:a8f262c70a9fea7b45647ffea8b571008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70996b8a2475177e9156948fe9c1996d"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf8rewind_8h.html#a70996b8a2475177e9156948fe9c1996d">utf8towide</a> (const char *input, size_t inputSize, wchar_t *target, size_t targetSize, int32_t *errors)</td></tr>
<tr class="memdesc:a70996b8a2475177e9156948fe9c1996d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a UTF-8 encoded string to a wide string.  <a href="#a70996b8a2475177e9156948fe9c1996d">More...</a><br /></td></tr>
<tr class="separator:a70996b8a2475177e9156948fe9c1996d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13d55ea3402d6d91cfb965f3605ec3eb"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf8rewind_8h.html#a13d55ea3402d6d91cfb965f3605ec3eb">utf8seek</a> (const char *text, const char *textStart, off_t offset, int direction)</td></tr>
<tr class="memdesc:a13d55ea3402d6d91cfb965f3605ec3eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Seek into a UTF-8 encoded string.  <a href="#a13d55ea3402d6d91cfb965f3605ec3eb">More...</a><br /></td></tr>
<tr class="separator:a13d55ea3402d6d91cfb965f3605ec3eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9296a74c3a6ed4f2d28c4af29a9e7c0"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf8rewind_8h.html#ae9296a74c3a6ed4f2d28c4af29a9e7c0">utf8toupper</a> (const char *input, size_t inputSize, char *target, size_t targetSize, int32_t *errors)</td></tr>
<tr class="memdesc:ae9296a74c3a6ed4f2d28c4af29a9e7c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert UTF-8 encoded text to uppercase.  <a href="#ae9296a74c3a6ed4f2d28c4af29a9e7c0">More...</a><br /></td></tr>
<tr class="separator:ae9296a74c3a6ed4f2d28c4af29a9e7c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada1349c86f22e9fcf5b97e469d303c58"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf8rewind_8h.html#ada1349c86f22e9fcf5b97e469d303c58">utf8tolower</a> (const char *input, size_t inputSize, char *target, size_t targetSize, int32_t *errors)</td></tr>
<tr class="separator:ada1349c86f22e9fcf5b97e469d303c58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97fe2a89787f22d1d6b978909289ae34"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf8rewind_8h.html#a97fe2a89787f22d1d6b978909289ae34">utf8totitle</a> (const char *input, size_t inputSize, char *target, size_t targetSize, int32_t *errors)</td></tr>
<tr class="separator:a97fe2a89787f22d1d6b978909289ae34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7c54fadc9bc04c439e9923f54968a33"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf8rewind_8h.html#aa7c54fadc9bc04c439e9923f54968a33">utf8isnormalized</a> (const char *input, size_t inputSize, size_t flags, size_t *offset)</td></tr>
<tr class="memdesc:aa7c54fadc9bc04c439e9923f54968a33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a string is stable in the specified normalization form.  <a href="#aa7c54fadc9bc04c439e9923f54968a33">More...</a><br /></td></tr>
<tr class="separator:aa7c54fadc9bc04c439e9923f54968a33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad53ccbe67130de7c9c34a8aaec52f4be"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf8rewind_8h.html#ad53ccbe67130de7c9c34a8aaec52f4be">utf8normalize</a> (const char *input, size_t inputSize, char *target, size_t targetSize, size_t flags, int32_t *errors)</td></tr>
<tr class="separator:ad53ccbe67130de7c9c34a8aaec52f4be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions for working with UTF-8 encoded text. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a1c56c34e8f9e0fbcf4949782f110df8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="utf8rewind_8h.html#a1c56c34e8f9e0fbcf4949782f110df8f">utf16_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>UTF-16 encoded codepoint. </p>

</div>
</div>
<a class="anchor" id="ae128fe5bd9e57be736e64d3638229988"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="utf8rewind_8h.html#ae128fe5bd9e57be736e64d3638229988">unicode_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unicode codepoint. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aa6a3ebdecf49591cff736ccf054c048e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t utf8len </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>text</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the length in codepoints of a UTF-8 encoded string. </p>
<p>Example:</p>
<div class="fragment"><div class="line">uint8_t CheckPassword(<span class="keyword">const</span> <span class="keywordtype">char</span>* password)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">size_t</span> length = <a class="code" href="utf8rewind_8h.html#aa6a3ebdecf49591cff736ccf054c048e">utf8len</a>(password);</div>
<div class="line">    <span class="keywordflow">return</span> (length == <a class="code" href="utf8rewind_8h.html#aa6a3ebdecf49591cff736ccf054c048e">utf8len</a>(<span class="stringliteral">&quot;hunter2&quot;</span>));</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">text</td><td>UTF-8 encoded string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length in codepoints. </dd></dl>

</div>
</div>
<a class="anchor" id="a4d6a9017be860a575c8dc1ac8c5a9253"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t utf16toutf8 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="utf8rewind_8h.html#a1c56c34e8f9e0fbcf4949782f110df8f">utf16_t</a> *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>inputSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>targetSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>errors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a UTF-16 encoded string to a UTF-8 encoded string. </p>
<dl class="section note"><dt>Note</dt><dd>This function should only be called directly if you are positive that you're working with UTF-16 encoded text. If you're working with wide strings, take a look at <a class="el" href="utf8rewind_8h.html#ad4670f2b7165731bff971559f85690a5" title="Convert a wide string to a UTF-8 encoded string. ">widetoutf8()</a> instead.</dd></dl>
<p>Example:</p>
<div class="fragment"><div class="line">uint8_t Player_SetNameUtf16(<span class="keyword">const</span> <a class="code" href="utf8rewind_8h.html#a1c56c34e8f9e0fbcf4949782f110df8f">utf16_t</a>* name, <span class="keywordtype">size_t</span> nameSize)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> buffer[256];</div>
<div class="line">    <span class="keywordtype">size_t</span> buffer_size = 255;</div>
<div class="line">    <span class="keywordtype">size_t</span> converted_size;</div>
<div class="line">    int32_t errors = 0;</div>
<div class="line"></div>
<div class="line">    converted_size = <a class="code" href="utf8rewind_8h.html#a4d6a9017be860a575c8dc1ac8c5a9253">utf16toutf8</a>(name, nameSize, buffer, buffer_size, &amp;errors);</div>
<div class="line">    <span class="keywordflow">if</span> (converted_size == 0 ||</div>
<div class="line">        errors != 0)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line">    buffer[converted_size] = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> Player_SetName(converted_name);</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>UTF-16 encoded string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">inputSize</td><td>Size of the input in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">target</td><td>Output buffer for the result. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">targetSize</td><td>Size of the output buffer in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">errors</td><td>Output for errors.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Bytes written or amount of bytes needed for output if target buffer is specified as NULL.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__errors.html#gaabf4ed55c67112f79abe7275ee2ecc9b" title="Input data is invalid. ">UTF8_ERR_INVALID_DATA</a></td><td>Input does not contain enough bytes for encoding. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__errors.html#ga0661d820dd006e49adfbdf0c7a9dec14" title="Unmatched high codepoint in surrogate pair. ">UTF8_ERR_UNMATCHED_HIGH_SURROGATE_PAIR</a></td><td>High surrogate pair was not matched. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__errors.html#ga892fe61a47f8258d88e292553a459a1c" title="Unmatched low codepoint in surrogate pair. ">UTF8_ERR_UNMATCHED_LOW_SURROGATE_PAIR</a></td><td>Low surrogate pair was not matched. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__errors.html#ga2c80a4201b65d282db98489204f6d5d8" title="Buffer does not have enough space for result. ">UTF8_ERR_NOT_ENOUGH_SPACE</a></td><td>Target buffer could not contain result.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="utf8rewind_8h.html#a8b5f39b5fe6fd55a6fc40dd54eaa8a80" title="Convert a UTF-32 encoded string to a UTF-8 encoded string. ">utf32toutf8</a> </dd>
<dd>
<a class="el" href="utf8rewind_8h.html#ad4670f2b7165731bff971559f85690a5" title="Convert a wide string to a UTF-8 encoded string. ">widetoutf8</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a8b5f39b5fe6fd55a6fc40dd54eaa8a80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t utf32toutf8 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="utf8rewind_8h.html#ae128fe5bd9e57be736e64d3638229988">unicode_t</a> *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>inputSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>targetSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>errors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a UTF-32 encoded string to a UTF-8 encoded string. </p>
<dl class="section note"><dt>Note</dt><dd>This function should only be called directly if you are positive that you're working with UTF-32 encoded text. If you're working with wide strings, take a look at <a class="el" href="utf8rewind_8h.html#ad4670f2b7165731bff971559f85690a5" title="Convert a wide string to a UTF-8 encoded string. ">widetoutf8()</a> instead.</dd></dl>
<p>Example:</p>
<div class="fragment"><div class="line">uint8_t Database_ExecuteQuery_Unicode(<span class="keyword">const</span> <a class="code" href="utf8rewind_8h.html#ae128fe5bd9e57be736e64d3638229988">unicode_t</a>* query, <span class="keywordtype">size_t</span> querySize)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span>* converted = NULL;</div>
<div class="line">    <span class="keywordtype">size_t</span> converted_size;</div>
<div class="line">    int8_t result = 0;</div>
<div class="line">    int32_t errors = 0;</div>
<div class="line">    </div>
<div class="line">    converted_size = <a class="code" href="utf8rewind_8h.html#a8b5f39b5fe6fd55a6fc40dd54eaa8a80">utf32toutf8</a>(query, querySize, NULL, 0, &amp;errors);</div>
<div class="line">    <span class="keywordflow">if</span> (converted_size == 0 ||</div>
<div class="line">        errors != 0)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">goto</span> cleanup;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    converted = (<span class="keywordtype">char</span>*)malloc(converted_size + 1);</div>
<div class="line">    <a class="code" href="utf8rewind_8h.html#a8b5f39b5fe6fd55a6fc40dd54eaa8a80">utf32toutf8</a>(query, querySize, converted, converted_size, NULL);</div>
<div class="line">    converted[converted_size] = 0;</div>
<div class="line"></div>
<div class="line">    result = Database_ExecuteQuery(converted);</div>
<div class="line"></div>
<div class="line">cleanup:</div>
<div class="line">    <span class="keywordflow">if</span> (converted != NULL)</div>
<div class="line">    {</div>
<div class="line">        free(converted);</div>
<div class="line">        converted = 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>UTF-32 encoded string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">inputSize</td><td>Size of the input in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">target</td><td>Output buffer for the result. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">targetSize</td><td>Size of the output buffer in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">errors</td><td>Output for errors.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Bytes written or amount of bytes needed for output if target buffer is specified as NULL.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__errors.html#gaabf4ed55c67112f79abe7275ee2ecc9b" title="Input data is invalid. ">UTF8_ERR_INVALID_DATA</a></td><td>Input does not contain enough bytes for encoding. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__errors.html#ga0661d820dd006e49adfbdf0c7a9dec14" title="Unmatched high codepoint in surrogate pair. ">UTF8_ERR_UNMATCHED_HIGH_SURROGATE_PAIR</a></td><td>High surrogate pair was not matched. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__errors.html#ga892fe61a47f8258d88e292553a459a1c" title="Unmatched low codepoint in surrogate pair. ">UTF8_ERR_UNMATCHED_LOW_SURROGATE_PAIR</a></td><td>Low surrogate pair was not matched. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__errors.html#ga2c80a4201b65d282db98489204f6d5d8" title="Buffer does not have enough space for result. ">UTF8_ERR_NOT_ENOUGH_SPACE</a></td><td>Target buffer could not contain result.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="utf8rewind_8h.html#a4d6a9017be860a575c8dc1ac8c5a9253" title="Convert a UTF-16 encoded string to a UTF-8 encoded string. ">utf16toutf8</a> </dd>
<dd>
<a class="el" href="utf8rewind_8h.html#ad4670f2b7165731bff971559f85690a5" title="Convert a wide string to a UTF-8 encoded string. ">widetoutf8</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ad4670f2b7165731bff971559f85690a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t widetoutf8 </td>
          <td>(</td>
          <td class="paramtype">const wchar_t *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>inputSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>targetSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>errors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a wide string to a UTF-8 encoded string. </p>
<p>Depending on the platform, wide strings are either UTF-16 or UTF-32 encoded. This function takes a wide string as input and automatically calls the correct conversion function.</p>
<p>This allows for a cross-platform treatment of wide text and is preferable to using the UTF-16 or UTF-32 versions directly.</p>
<p>Example:</p>
<div class="fragment"><div class="line">texture_t Texture_Load_Wide(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span>* input)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span>* converted = NULL;</div>
<div class="line">    <span class="keywordtype">size_t</span> converted_size;</div>
<div class="line">    <span class="keywordtype">size_t</span> input_size = wcslen(input) * <span class="keyword">sizeof</span>(wchar_t);</div>
<div class="line">    texture_t result = NULL;</div>
<div class="line">    int32_t errors = 0;</div>
<div class="line"></div>
<div class="line">    converted_size = <a class="code" href="utf8rewind_8h.html#ad4670f2b7165731bff971559f85690a5">widetoutf8</a>(input, input_size, NULL, 0, &amp;errors);</div>
<div class="line">    <span class="keywordflow">if</span> (converted_size == 0 ||</div>
<div class="line">        errors != 0)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">goto</span> cleanup;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    converted = (<span class="keywordtype">char</span>*)malloc(converted_size + 1);</div>
<div class="line">    <a class="code" href="utf8rewind_8h.html#ad4670f2b7165731bff971559f85690a5">widetoutf8</a>(input, input_size, converted, converted_size, NULL);</div>
<div class="line">    converted[converted_size / <span class="keyword">sizeof</span>(wchar_t)] = 0;</div>
<div class="line"></div>
<div class="line">    result = Texture_Load(converted);</div>
<div class="line"></div>
<div class="line">cleanup:</div>
<div class="line">    <span class="keywordflow">if</span> (converted != NULL)</div>
<div class="line">    {</div>
<div class="line">        free(converted);</div>
<div class="line">        converted = NULL;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>Wide-encoded string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">inputSize</td><td>Size of the input in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">target</td><td>Output buffer for the result. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">targetSize</td><td>Size of the output buffer in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">errors</td><td>Output for errors.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Bytes written or amount of bytes needed for output if target buffer is specified as NULL.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__errors.html#gaabf4ed55c67112f79abe7275ee2ecc9b" title="Input data is invalid. ">UTF8_ERR_INVALID_DATA</a></td><td>Input does not contain enough bytes for encoding. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__errors.html#ga0661d820dd006e49adfbdf0c7a9dec14" title="Unmatched high codepoint in surrogate pair. ">UTF8_ERR_UNMATCHED_HIGH_SURROGATE_PAIR</a></td><td>High surrogate pair was not matched. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__errors.html#ga892fe61a47f8258d88e292553a459a1c" title="Unmatched low codepoint in surrogate pair. ">UTF8_ERR_UNMATCHED_LOW_SURROGATE_PAIR</a></td><td>Low surrogate pair was not matched. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__errors.html#ga2c80a4201b65d282db98489204f6d5d8" title="Buffer does not have enough space for result. ">UTF8_ERR_NOT_ENOUGH_SPACE</a></td><td>Target buffer could not contain result.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="utf8rewind_8h.html#a70996b8a2475177e9156948fe9c1996d" title="Convert a UTF-8 encoded string to a wide string. ">utf8towide</a> </dd>
<dd>
<a class="el" href="utf8rewind_8h.html#a4d6a9017be860a575c8dc1ac8c5a9253" title="Convert a UTF-16 encoded string to a UTF-8 encoded string. ">utf16toutf8</a> </dd>
<dd>
<a class="el" href="utf8rewind_8h.html#a8b5f39b5fe6fd55a6fc40dd54eaa8a80" title="Convert a UTF-32 encoded string to a UTF-8 encoded string. ">utf32toutf8</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a384129f817fbbcc7cad6c08b2db354f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t utf8toutf16 </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>inputSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utf8rewind_8h.html#a1c56c34e8f9e0fbcf4949782f110df8f">utf16_t</a> *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>targetSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>errors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a UTF-8 encoded string to a UTF-16 encoded string. </p>
<dl class="section note"><dt>Note</dt><dd>This function should only be called directly if you are positive that you <em>must</em> convert to UTF-16, independent of platform. If you're working with wide strings, take a look at <a class="el" href="utf8rewind_8h.html#a70996b8a2475177e9156948fe9c1996d" title="Convert a UTF-8 encoded string to a wide string. ">utf8towide()</a> instead.</dd></dl>
<p>Erroneous byte sequences such as missing bytes, illegal bytes or overlong encodings of codepoints are converted to the replacement character U+FFFD.</p>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> Font_DrawText(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keyword">const</span> <span class="keywordtype">char</span>* text)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="utf8rewind_8h.html#a1c56c34e8f9e0fbcf4949782f110df8f">utf16_t</a> buffer[256];</div>
<div class="line">    <span class="keywordtype">size_t</span> buffer_size = 255 * <span class="keyword">sizeof</span>(<a class="code" href="utf8rewind_8h.html#a1c56c34e8f9e0fbcf4949782f110df8f">utf16_t</a>);</div>
<div class="line">    int32_t errors = 0;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">size_t</span> converted_size = <a class="code" href="utf8rewind_8h.html#a384129f817fbbcc7cad6c08b2db354f5">utf8toutf16</a>(text, strlen(text), buffer, buffer_size, &amp;errors);</div>
<div class="line">    <span class="keywordflow">if</span> (converted_size &gt; 0 &amp;&amp;</div>
<div class="line">        errors == 0)</div>
<div class="line">    {</div>
<div class="line">        Legacy_DrawText(g_FontCurrent, x, y, (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)buffer, converted_size / <span class="keyword">sizeof</span>(<a class="code" href="utf8rewind_8h.html#a1c56c34e8f9e0fbcf4949782f110df8f">utf16_t</a>));</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>UTF-8 encoded string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">inputSize</td><td>Size of the input in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">target</td><td>Output buffer for the result. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">targetSize</td><td>Size of the output buffer in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">errors</td><td>Output for errors.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Bytes written or amount of bytes needed for output if target buffer is specified as NULL.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__errors.html#gaabf4ed55c67112f79abe7275ee2ecc9b" title="Input data is invalid. ">UTF8_ERR_INVALID_DATA</a></td><td>Input does not contain enough bytes for decoding. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__errors.html#ga2c80a4201b65d282db98489204f6d5d8" title="Buffer does not have enough space for result. ">UTF8_ERR_NOT_ENOUGH_SPACE</a></td><td>Target buffer could not contain result.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="utf8rewind_8h.html#a70996b8a2475177e9156948fe9c1996d" title="Convert a UTF-8 encoded string to a wide string. ">utf8towide</a> </dd>
<dd>
<a class="el" href="utf8rewind_8h.html#a8f262c70a9fea7b45647ffea8b571008" title="Convert a UTF-8 encoded string to a UTF-32 encoded string. ">utf8toutf32</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a8f262c70a9fea7b45647ffea8b571008"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t utf8toutf32 </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>inputSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utf8rewind_8h.html#ae128fe5bd9e57be736e64d3638229988">unicode_t</a> *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>targetSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>errors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a UTF-8 encoded string to a UTF-32 encoded string. </p>
<dl class="section note"><dt>Note</dt><dd>This function should only be called directly if you are positive that you <em>must</em> convert to UTF-32, independent of platform. If you're working with wide strings, take a look at <a class="el" href="utf8rewind_8h.html#a70996b8a2475177e9156948fe9c1996d" title="Convert a UTF-8 encoded string to a wide string. ">utf8towide()</a> instead.</dd></dl>
<p>Erroneous byte sequences such as missing bytes, illegal bytes or overlong encodings of codepoints are converted to the replacement character U+FFFD.</p>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> TextField_AddCharacter(<span class="keyword">const</span> <span class="keywordtype">char</span>* encoded)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="utf8rewind_8h.html#ae128fe5bd9e57be736e64d3638229988">unicode_t</a> codepoint = 0;</div>
<div class="line">    int32_t errors = 0;</div>
<div class="line"></div>
<div class="line">    <a class="code" href="utf8rewind_8h.html#a8f262c70a9fea7b45647ffea8b571008">utf8toutf32</a>(encoded, strlen(encoded), &amp;codepoint, <span class="keyword">sizeof</span>(<a class="code" href="utf8rewind_8h.html#ae128fe5bd9e57be736e64d3638229988">unicode_t</a>), &amp;errors);</div>
<div class="line">    <span class="keywordflow">if</span> (errors == 0)</div>
<div class="line">    {</div>
<div class="line">        TextField_AddCodepoint(codepoint);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>UTF-8 encoded string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">inputSize</td><td>Size of the input in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">target</td><td>Output buffer for the result. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">targetSize</td><td>Size of the output buffer in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">errors</td><td>Output for errors.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Bytes written or amount of bytes needed for output if target buffer is specified as NULL.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__errors.html#gaabf4ed55c67112f79abe7275ee2ecc9b" title="Input data is invalid. ">UTF8_ERR_INVALID_DATA</a></td><td>Input does not contain enough bytes for decoding. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__errors.html#ga2c80a4201b65d282db98489204f6d5d8" title="Buffer does not have enough space for result. ">UTF8_ERR_NOT_ENOUGH_SPACE</a></td><td>Target buffer could not contain result.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="utf8rewind_8h.html#a70996b8a2475177e9156948fe9c1996d" title="Convert a UTF-8 encoded string to a wide string. ">utf8towide</a> </dd>
<dd>
<a class="el" href="utf8rewind_8h.html#a384129f817fbbcc7cad6c08b2db354f5" title="Convert a UTF-8 encoded string to a UTF-16 encoded string. ">utf8toutf16</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a70996b8a2475177e9156948fe9c1996d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t utf8towide </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>inputSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">wchar_t *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>targetSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>errors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a UTF-8 encoded string to a wide string. </p>
<p>Depending on the platform, wide strings are either UTF-16 or UTF-32 encoded. This function takes a UTF-8 encoded string as input and automatically calls the correct conversion function.</p>
<p>This allows for a cross-platform treatment of wide text and is preferable to using the UTF-16 or UTF-32 versions directly.</p>
<p>Erroneous byte sequences such as missing bytes, illegal bytes or overlong encodings of codepoints are converted to the replacement character U+FFFD.</p>
<dl class="section note"><dt>Note</dt><dd>Codepoints outside the Basic Multilingual Plane (BMP) are converted to surrogate pairs when using UTF-16. This means that strings containing characters outside the BMP converted on a platform with UTF-32 wide strings are <em>not</em> compatible with platforms with UTF-16 wide strings.</dd></dl>
<dl class="section user"><dt>Hence, it is preferable to keep all data as UTF-8 and only</dt><dd>convert to wide strings when required by a third-party interface.</dd></dl>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> Window_SetTitle(<span class="keywordtype">void</span>* windowHandle, <span class="keyword">const</span> <span class="keywordtype">char</span>* text)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">size_t</span> input_size = strlen(text);</div>
<div class="line">    <span class="keywordtype">wchar_t</span>* converted = NULL;</div>
<div class="line">    <span class="keywordtype">size_t</span> converted_size;</div>
<div class="line">    int32_t errors = 0;</div>
<div class="line"></div>
<div class="line">    converted_size = <a class="code" href="utf8rewind_8h.html#a70996b8a2475177e9156948fe9c1996d">utf8towide</a>(text, input_size, NULL, 0, &amp;errors);</div>
<div class="line">    <span class="keywordflow">if</span> (converted_size == 0 ||</div>
<div class="line">        errors != 0)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">goto</span> cleanup;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    converted = (<span class="keywordtype">wchar_t</span>*)malloc(converted_size + <span class="keyword">sizeof</span>(<span class="keywordtype">wchar_t</span>));</div>
<div class="line">    <a class="code" href="utf8rewind_8h.html#a70996b8a2475177e9156948fe9c1996d">utf8towide</a>(text, input_size, converted, converted_size, NULL);</div>
<div class="line">    converted[converted_size / <span class="keyword">sizeof</span>(wchar_t)] = 0;</div>
<div class="line"></div>
<div class="line">    SetWindowTextW((HWND)windowHandle, converted);</div>
<div class="line"></div>
<div class="line">cleanup:</div>
<div class="line">    <span class="keywordflow">if</span> (converted != NULL)</div>
<div class="line">    {</div>
<div class="line">        free(converted);</div>
<div class="line">        converted = NULL;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>UTF-8 encoded string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">inputSize</td><td>Size of the input in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">target</td><td>Output buffer for the result. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">targetSize</td><td>Size of the output buffer in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">errors</td><td>Output for errors.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Bytes written or amount of bytes needed for output if target buffer is specified as NULL.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__errors.html#gaabf4ed55c67112f79abe7275ee2ecc9b" title="Input data is invalid. ">UTF8_ERR_INVALID_DATA</a></td><td>Input does not contain enough bytes for decoding. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__errors.html#ga2c80a4201b65d282db98489204f6d5d8" title="Buffer does not have enough space for result. ">UTF8_ERR_NOT_ENOUGH_SPACE</a></td><td>Target buffer could not contain result.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="utf8rewind_8h.html#ad4670f2b7165731bff971559f85690a5" title="Convert a wide string to a UTF-8 encoded string. ">widetoutf8</a> </dd>
<dd>
<a class="el" href="utf8rewind_8h.html#a384129f817fbbcc7cad6c08b2db354f5" title="Convert a UTF-8 encoded string to a UTF-16 encoded string. ">utf8toutf16</a> </dd>
<dd>
<a class="el" href="utf8rewind_8h.html#a8f262c70a9fea7b45647ffea8b571008" title="Convert a UTF-8 encoded string to a UTF-32 encoded string. ">utf8toutf32</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a13d55ea3402d6d91cfb965f3605ec3eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* utf8seek </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>textStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>direction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Seek into a UTF-8 encoded string. </p>
<p>Working with UTF-8 encoded strings can be tricky due to the nature of the variable-length encoding. Because one character no longer equals one byte, it can be difficult to skip around in a UTF-8 encoded string without decoding the codepoints.</p>
<p>This function provides an interface similar to <code>fseek</code> in order to enable skipping to another part of the string.</p>
<dl class="section note"><dt>Note</dt><dd><code>textStart</code> must come before <code>text</code> in memory when seeking from the current or end position.</dd></dl>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* text = <span class="stringliteral">&quot;Press \xE0\x80\x13 to continue.&quot;</span>;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> fixed[1024];</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* commandStart;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* commandEnd;</div>
<div class="line"></div>
<div class="line">memset(fixed, 0, 1024);</div>
<div class="line"></div>
<div class="line">commandStart = strstr(text, <span class="stringliteral">&quot;\xE0\x80\x13&quot;</span>);</div>
<div class="line"><span class="keywordflow">if</span> (commandStart == 0)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">strncpy(fixed, text, commandStart - text);</div>
<div class="line">strcat(fixed, <span class="stringliteral">&quot;ENTER&quot;</span>);</div>
<div class="line"></div>
<div class="line">commandEnd = <a class="code" href="utf8rewind_8h.html#a13d55ea3402d6d91cfb965f3605ec3eb">utf8seek</a>(commandStart, text, 1, SEEK_CUR);</div>
<div class="line"><span class="keywordflow">if</span> (commandEnd != commandStart)</div>
<div class="line">{</div>
<div class="line">    strcat(fixed, commandEnd);</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">text</td><td>Input string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">textStart</td><td>Start of input string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>Requested offset in codepoints. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">direction</td><td>Direction to seek in. <ul>
<li><code>SEEK_SET</code> Offset is from the start of the string. </li>
<li><code>SEEK_CUR</code> Offset is from the current position of the string. </li>
<li><code>SEEK_END</code> Offset is from the end of the string.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Changed string or no change on error. </dd></dl>

</div>
</div>
<a class="anchor" id="ae9296a74c3a6ed4f2d28c4af29a9e7c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t utf8toupper </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>inputSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>targetSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>errors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert UTF-8 encoded text to uppercase. </p>
<p>This function allows users to convert UTF-8 encoded strings to uppercase without first changing the encoding to UTF-32. Conversion is fully compliant with the Unicode 7.0 standard.</p>
<p>Although most codepoints can be converted in-place, there are notable exceptions. For example, U+00DF (LATIN SMALL LETTER SHARP S) maps to "U+0053 U+0053" (LATIN CAPITAL LETTER S) when uppercasing. Therefor, it is advised to first determine the size in bytes of the output by calling the function with a NULL output buffer.</p>
<p>Only a handful of scripts make a distinction between upper- and lowercase. In addition to modern scripts, such as Latin, Greek, Armenian and Cyrillic, a few historic or archaic scripts have case. The vast majority of scripts do not have case distinctions.</p>
<dl class="section note"><dt>Note</dt><dd>Case mapping is not reversible. That is, <code>toUpper(toLower(x)) != toLower(toUpper(x))</code>.</dd></dl>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> Button_Draw(int32_t x, int32_t y, <span class="keyword">const</span> <span class="keywordtype">char</span>* text)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">size_t</span> input_size = strlen(text);</div>
<div class="line">    <span class="keywordtype">char</span>* converted = NULL;</div>
<div class="line">    <span class="keywordtype">size_t</span> converted_size;</div>
<div class="line">    int32_t text_box_width, text_box_height;</div>
<div class="line">    int32_t errors = 0;</div>
<div class="line"></div>
<div class="line">    converted_size = <a class="code" href="utf8rewind_8h.html#ae9296a74c3a6ed4f2d28c4af29a9e7c0">utf8toupper</a>(text, input_size, NULL, 0, &amp;errors);</div>
<div class="line">    <span class="keywordflow">if</span> (converted_size == 0 ||</div>
<div class="line">        errors != 0)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">goto</span> cleanup;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    converted = (<span class="keywordtype">char</span>*)malloc(converted_size + 1);</div>
<div class="line">    <a class="code" href="utf8rewind_8h.html#ae9296a74c3a6ed4f2d28c4af29a9e7c0">utf8toupper</a>(text, input_size, converted, converted_size, NULL);</div>
<div class="line">    converted[converted_size] = 0;</div>
<div class="line"></div>
<div class="line">    Font_GetTextDimensions(converted, &amp;text_box_width, &amp;text_box_height);</div>
<div class="line"></div>
<div class="line">    Draw_BoxFilled(x - 4, y - 4, text_box_width + 8, text_box_height + 8, 0x088A08);</div>
<div class="line">    Draw_BoxOutline(x - 4, y - 4, text_box_width + 8, text_box_height + 8, 0xA9F5A9);</div>
<div class="line">    Font_DrawText(x + 2, y + 1, converted, 0x000000);</div>
<div class="line">    Font_DrawText(x, y, converted, 0xFFFFFF);</div>
<div class="line"></div>
<div class="line">cleanup:</div>
<div class="line">    <span class="keywordflow">if</span> (converted != NULL)</div>
<div class="line">    {</div>
<div class="line">        free(converted);</div>
<div class="line">        converted = NULL;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>UTF-8 encoded string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">inputSize</td><td>Size of the input in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">target</td><td>Output buffer for the result. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">targetSize</td><td>Size of the output buffer in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">errors</td><td>Output for errors.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Bytes written or amount of bytes needed for output if target buffer is specified as NULL.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__errors.html#gaabf4ed55c67112f79abe7275ee2ecc9b" title="Input data is invalid. ">UTF8_ERR_INVALID_DATA</a></td><td>Input does not contain enough bytes for decoding. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__errors.html#ga212f91820ec425df66d59f187e78412c" title="Parameters overlap in memory. ">UTF8_ERR_OVERLAPPING_PARAMETERS</a></td><td>Input and output buffers overlap in memory. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__errors.html#ga2c80a4201b65d282db98489204f6d5d8" title="Buffer does not have enough space for result. ">UTF8_ERR_NOT_ENOUGH_SPACE</a></td><td>Target buffer could not contain result. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ada1349c86f22e9fcf5b97e469d303c58"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t utf8tolower </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>inputSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>targetSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>errors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a97fe2a89787f22d1d6b978909289ae34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t utf8totitle </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>inputSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>targetSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>errors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa7c54fadc9bc04c439e9923f54968a33"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t utf8isnormalized </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>inputSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a string is stable in the specified normalization form. </p>
<p>This function can be used as a preprocessing step, before attempting to normalize a string. Normalization is a very expensive process, it is often cheaper to first determine if the string is unstable in the requested normalization form.</p>
<p>Unicode Normalization Forms are formally defined normalizations of Unicode strings which make it possible to determine whether any two Unicode strings are equivalent to each other. Depending on the particular Unicode Normalization Form, that equivalence can either be a canonical equivalence or a compatibility equivalence.</p>
<p>Essentially, the Unicode Normalization Algorithm puts all combining marks in a specified order, and uses rules for decomposition and composition to transform each string into one of the Unicode Normalization Forms. A binary comparison of the transformed strings will then determine equivalence.</p>
<p>There are four Unicode Normalization Forms:</p>
<table class="doxtable">
<tr>
<th>Unicode </th><th>Flags  </th></tr>
<tr>
<td>Normalization Form C (NFC) </td><td><a class="el" href="group__flags.html#ga6b8ab40213f4505f96b4655fd468848d" title="Normalize input to NFC. ">UTF8_NORMALIZE_COMPOSE</a> </td></tr>
<tr>
<td>Normalization Form KC (NFKC) </td><td><a class="el" href="group__flags.html#ga6b8ab40213f4505f96b4655fd468848d" title="Normalize input to NFC. ">UTF8_NORMALIZE_COMPOSE</a> + <a class="el" href="group__flags.html#ga53d4bc1347e2cb233eb212ff7160721f" title="Changes composed normalization to NFKC or decomposed normalization to NFKD. ">UTF8_NORMALIZE_COMPATIBILITY</a> </td></tr>
<tr>
<td>Normalization Form D (NFD) </td><td><a class="el" href="group__flags.html#gaa9cf4bf8f49035a84de94973c9c31181" title="Normalize input to NFD. ">UTF8_NORMALIZE_DECOMPOSE</a> </td></tr>
<tr>
<td>Normalization Form KD (NFKD) </td><td><a class="el" href="group__flags.html#gaa9cf4bf8f49035a84de94973c9c31181" title="Normalize input to NFD. ">UTF8_NORMALIZE_DECOMPOSE</a> + <a class="el" href="group__flags.html#ga53d4bc1347e2cb233eb212ff7160721f" title="Changes composed normalization to NFKC or decomposed normalization to NFKD. ">UTF8_NORMALIZE_COMPATIBILITY</a> </td></tr>
</table>
<p>For a more detailed explanation, please see the documentation regarding normalization.</p>
<p>The result of the check will be YES if the string is stable and MAYBE or NO if it is unstable. If the result is MAYBE, the string does not necessarily have to be normalized.</p>
<p>Example:</p>
<div class="fragment"><div class="line">uint8_t Text_InspectComposed(<span class="keyword">const</span> <span class="keywordtype">char</span>* text)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>* src = text;</div>
<div class="line">    <span class="keywordtype">size_t</span> src_size = strlen(text);</div>
<div class="line">    <span class="keywordtype">size_t</span> offset;</div>
<div class="line">    <span class="keywordtype">size_t</span> total_offset;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="utf8rewind_8h.html#aa7c54fadc9bc04c439e9923f54968a33">utf8isnormalized</a>(src, src_size, <a class="code" href="group__flags.html#ga6b8ab40213f4505f96b4655fd468848d">UTF8_NORMALIZE_COMPOSE</a>, &amp;offset) == <a class="code" href="group__quickcheck.html#gae047d522ffc5afe11b150b6d5c527b80">UTF8_NORMALIZATION_RESULT_YES</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Clean!\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    total_offset = offset;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">do</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">char</span>* next;</div>
<div class="line"></div>
<div class="line">        printf(<span class="stringliteral">&quot;Unstable at byte %d\n&quot;</span>, total_offset);</div>
<div class="line"></div>
<div class="line">        next = <a class="code" href="utf8rewind_8h.html#a13d55ea3402d6d91cfb965f3605ec3eb">utf8seek</a>(src, text, 1, SEEK_CUR);</div>
<div class="line">        <span class="keywordflow">if</span> (next == src)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        total_offset += offset;</div>
<div class="line"></div>
<div class="line">        src = next;</div>
<div class="line">        src_size -= next - src;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">while</span> (<a class="code" href="utf8rewind_8h.html#aa7c54fadc9bc04c439e9923f54968a33">utf8isnormalized</a>(src, src_size, <a class="code" href="group__flags.html#ga6b8ab40213f4505f96b4655fd468848d">UTF8_NORMALIZE_COMPOSE</a>, &amp;offset) != <a class="code" href="group__quickcheck.html#gae047d522ffc5afe11b150b6d5c527b80">UTF8_NORMALIZATION_RESULT_YES</a>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>UTF-8 encoded string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">inputSize</td><td>Size of the input in bytes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Desired normalization form. Must be a combination of <a class="el" href="group__flags.html#ga6b8ab40213f4505f96b4655fd468848d" title="Normalize input to NFC. ">UTF8_NORMALIZE_COMPOSE</a>, <a class="el" href="group__flags.html#gaa9cf4bf8f49035a84de94973c9c31181" title="Normalize input to NFD. ">UTF8_NORMALIZE_DECOMPOSE</a> and <a class="el" href="group__flags.html#ga53d4bc1347e2cb233eb212ff7160721f" title="Changes composed normalization to NFKC or decomposed normalization to NFKD. ">UTF8_NORMALIZE_COMPATIBILITY</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">offset</td><td>Offset of first unstable codepoint.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__quickcheck.html#gae047d522ffc5afe11b150b6d5c527b80" title="Text is stable and does not have to be normalized. ">UTF8_NORMALIZATION_RESULT_YES</a></td><td>Text is stable and does not have to be normalized. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__quickcheck.html#ga8ea4d576e89529e074392175230dc352" title="Text is unstable, but normalization may be skipped. ">UTF8_NORMALIZATION_RESULT_MAYBE</a></td><td>Text is unstable, but normalization may be skipped. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__quickcheck.html#ga9a59070cc87c6b141ab742986af0f223" title="Text is unstable and must be normalized. ">UTF8_NORMALIZATION_RESULT_NO</a></td><td>Text is unstable and must be normalized. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad53ccbe67130de7c9c34a8aaec52f4be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t utf8normalize </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>inputSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>targetSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>errors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_19f418181f8b699045c2f8e6c49f857e.html">utf8rewind</a></li><li class="navelem"><a class="el" href="utf8rewind_8h.html">utf8rewind.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
